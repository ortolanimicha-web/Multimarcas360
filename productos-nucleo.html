<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Electrónica Núcleo - Mayorista</title>
    
    <link rel="stylesheet" href="style.css"> 
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
    @media (max-width: 768px) {

    /* 1. NAVBAR: Fondo Negro y Alineación */
    .nucleo-theme .navbar {
        background-color: #000 !important;
        border-bottom: 1px solid #222;
        padding: 10px 0 !important;
    }

    .nucleo-theme .logo {
        text-align: left;
        padding-left: 20px;
        font-size: 1.3rem;
        margin-bottom: 10px;
        display: block;
        width: 100%;
        border-bottom: 1px solid #222;
        padding-bottom: 10px;
    }

    /* 2. ENLACES DEL MENÚ (Estilo Botones/Iconos) */
    .nucleo-theme .nav-links {
        display: flex !important;
        flex-direction: row !important; /* En fila */
        flex-wrap: nowrap !important; /* No bajar de línea */
        justify-content: space-evenly !important; /* Espaciado uniforme */
        align-items: center !important;
        gap: 5px !important;
        padding: 5px 10px !important;
        width: 100%;
        overflow-x: auto; /* Scroll si es necesario */
    }

    /* Estilo "Volver a Inicio" y otros links de texto */
    .nucleo-theme .nav-links a {
        font-size: 0.7rem !important;
        text-transform: uppercase;
        color: #ccc !important;
        text-align: center;
        line-height: 1.2;
        padding: 5px;
        white-space: pre-wrap; /* Permitir saltos de línea en texto */
        max-width: 80px;
    }

    /* Iconos amarillos/dorados */
    .nucleo-theme .nav-links i {
        display: block;
        font-size: 1.2rem;
        color: #ffc107; /* Color dorado del icono */
        margin-bottom: 3px;
    }

    /* Botón "Salir" (Bordeado) */
    #nucleo-logout-btn {
        border: 1px solid #ffc107 !important;
        padding: 5px 10px !important;
        border-radius: 5px;
        font-size: 0.8rem;
    }

    /* Carrito (Píldora oscura con badge rojo) */
    .nucleo-theme .cart-link {
        background: #222 !important;
        border: 1px solid #333 !important;
        border-radius: 20px !important;
        padding: 5px 10px !important;
        position: relative;
    }
    .cart-badge {
        background-color: red !important;
        position: absolute;
        top: -5px;
        right: -5px;
    }

    /* 3. HERO BANNER (Imagen y Textos) */
    .nucleo-hero-banner {
        display: flex !important;
        flex-direction: column !important;
        height: auto !important;
        background-color: #000 !important; /* Fondo NEGRO */
        margin-top: 0 !important;
        position: relative;
    }

    /* IMAGEN: Arriba y completa */
    .nucleo-hero-image {
        order: 1; /* Primero la imagen */
        width: 100% !important;
        height: 220px !important; /* Altura fija visible */
        padding-bottom: 0 !important;
        background-size: cover !important;
        background-position: center !important;
        clip-path: none !important;
    }

    /* TEXTO: Abajo y fondo negro */
    .nucleo-hero-text {
        order: 2; /* Texto abajo */
        padding: 30px 20px !important;
        background-color: #000 !important; /* Asegurar fondo negro */
        text-align: center !important;
        z-index: 5;
    }

    /* Tipografía específica de la captura */
    .nucleo-hero-text h2 {
        color: #888 !important; /* Gris */
        font-size: 0.9rem !important;
        letter-spacing: 2px;
        font-weight: normal;
        margin-bottom: 10px !important;
    }

    .nucleo-hero-text h1 {
        color: #fff !important; /* Blanco */
        font-size: 2.5rem !important;
        font-weight: 900 !important;
        margin-bottom: 15px !important;
    }

    .nucleo-hero-text p {
        color: #666 !important; /* Gris oscuro */
        font-size: 1rem !important;
        margin-bottom: 25px !important;
    }

    /* 4. BOTÓN "VER CATÁLOGO" (Blanco con texto violeta/negro) */
    .nucleo-btn {
        background: #fff !important; /* Fondo Blanco */
        color: #563d7c !important; /* Texto Violeta oscuro */
        border-radius: 30px !important;
        padding: 12px 30px !important;
        font-weight: bold !important;
        text-transform: uppercase;
        font-size: 0.9rem !important;
        box-shadow: 0 4px 10px rgba(255,255,255,0.2) !important;
        border: none !important;
        display: inline-block;
    }
}
</style>
</head>
<body class="nucleo-theme">

    <nav class="navbar">
        <div class="logo">Electrónica Núcleo</div>
        <ul class="nav-links">
    <li>
        <a href="index.html" style="display:flex; flex-direction:column; align-items:center;">
            VOLVER A<br>INICIO
        </a>
    </li>
    
    <li id="nucleo-auth-links" style="display: flex; align-items: center;">
        <a href="login-nucleo.html" id="nucleo-login-link" style="color: #ffc107; font-weight: bold; text-align:center;">
            <i class="fas fa-sign-in-alt"></i><br>INICIAR SESIÓN
        </a>

        <button id="nucleo-logout-btn" style="background: transparent; border: 1px solid #ffc107; color: #ffc107; border-radius: 4px; padding: 5px 10px; cursor: pointer; font-weight: bold; display: none;">
            <i class="fas fa-sign-out-alt"></i> Salir
        </button>
    </li>

    <li>
        <a href="carrito.html" class="cart-link">
            <i class="fas fa-shopping-cart" style="color: #e91e63;"></i>
        </a>
    </li>
</ul>
        <div class="hamburger-menu">
            <span></span><span></span><span></span>
        </div>
    </nav>

    <div id="nucleo-sidebar-overlay" class="nucleo-overlay"></div>
    
    <aside id="nucleo-sidebar-container" class="nucleo-offcanvas">
        <div class="nucleo-offcanvas-header">
            <h3 style="margin:0; font-size:1.1rem;">CATEGORÍAS</h3>
            <button id="close-nucleo-sidebar" style="background:none; border:none; color:white; font-size:1.5rem; cursor:pointer;">&times;</button>
        </div>
        <div class="nucleo-offcanvas-body">
            <ul id="nucleo-category-list" style="list-style:none; padding:0; margin:0;">
                <li style="padding:10px; text-align:center; color:#777;"><i class="fas fa-spinner fa-spin"></i> Cargando...</li>
            </ul>
            <button id="btn-ver-todo-nucleo" style="width:100%; padding:10px; margin-top:20px; background:#333; color:white; border:none; cursor:pointer;">Ver Todo el Stock</button>
        </div>
    </aside>

    <div class="nucleo-layout-wrapper">
        <main class="nucleo-main-content">
    
    <div id="nucleo-landing-hero" class="nucleo-hero-banner">
        <div id="category-banner-container" class="category-banner-container" style="display: none; position: relative; width: 100%; height: 300px; overflow: hidden; margin-bottom: 25px;">
    <img id="category-banner-img" src="" alt="Banner Categoría" style="width: 100%; height: 100%; object-fit: cover; filter: brightness(0.7);">
    
    <div style="position: absolute; bottom: 0; left: 0; width: 100%; padding: 40px; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);">
        <h1 id="category-banner-title" style="color: white; margin: 0; font-size: 3rem; font-weight: 900; text-transform: uppercase; text-shadow: 2px 2px 10px rgba(0,0,0,0.5);">CATEGORÍA</h1>
    </div>
</div>
        <div class="nucleo-hero-text">
            <h2 style="color: #cbbde2;">Tecnología Mayorista</h2>
            <h1>NOVEDADES 2025</h1>
            <p>Equipá tu negocio con lo último en gadgets y accesorios.</p>
            <button id="btn-open-sidebar" class="nucleo-btn" style="background: #fff; color: #6f42c1;">Ver Catálogo</button>
        </div>
        <div class="nucleo-hero-image" style="background-image: url('https://images.unsplash.com/photo-1550009158-9ebf69173e03?auto=format&fit=crop&w=1200&q=80'); clip-path: none; width: 55%;"></div>
    </div>

    <div id="category-banner-container" class="category-banner-container" style="display: none; position: relative; width: 100%; height: 250px; overflow: hidden; margin-bottom: 25px; border-radius: 8px;">
        <img id="category-banner-img" src="" alt="Banner Categoría" style="width: 100%; height: 100%; object-fit: cover;">
        <div style="position: absolute; bottom: 0; left: 0; width: 100%; padding: 20px; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);">
            <h1 id="category-banner-title" style="color: white; margin: 0; font-size: 2.5rem; text-shadow: 0 2px 4px rgba(0,0,0,0.5);"></h1>
        </div>
    </div>
    
    <div class="nucleo-toolbar-advanced">
            
        <form id="nucleo-cat-search-form" class="nucleo-search-box">
            <input type="text" id="nucleo-cat-search-input" placeholder="Buscar en el catálogo...">
            <button type="submit"><i class="fas fa-search"></i></button>
        </form>

        <div class="nucleo-view-controls">
            <span style="font-size:0.8rem; font-weight:bold; color:#555; margin-right:5px;">VISTA:</span>
            <div class="view-buttons-nucleo">
                <button class="btn-view-nucleo" data-view="list" title="Lista"><i class="fas fa-list"></i></button>
                <button class="btn-view-nucleo active" data-view="grid" title="Grilla"><i class="fas fa-th-large"></i></button>
                <button class="btn-view-nucleo" data-view="feed" title="Feed"><i class="fas fa-mobile-alt"></i></button>
            </div>
        </div>

        <div class="nucleo-sort-box">
            <select id="nucleo-cat-sort">
                <option value="default">Destacado</option>
                <option value="price-asc">Precio: Menor a Mayor</option>
                <option value="price-desc">Precio: Mayor a Menor</option>
                <option value="az">Nombre: A - Z</option>
                <option value="za">Nombre: Z - A</option>
            </select>
        </div>
    </div>
    <div class="section-header-nucleo">
        <h3 id="nucleo-results-count">Productos Destacados</h3>
        <p style="color: #777; margin-top: 5px; font-size:0.9rem;">Productos de alta rotación seleccionados para vos.</p>
    </div>

    <div id="catalogo-container" class="catalogo-grid-nucleo view-grid">
        <div class="loading-spinner">
            <i class="fas fa-circle-notch fa-spin"></i> Cargando mercadería...
        </div>
    </div>

    <div class="promo-banner-full" style="background-image: url('https://images.unsplash.com/photo-1512054502232-10a0a035d672?auto=format&fit=crop&w=1200&q=80'); margin-top:40px; height:200px; display:flex; align-items:center; justify-content:center; position:relative;">
        <div style="position:relative; z-index:2; color:white; text-align:center;">
            <h2 style="font-size:2.5rem; font-weight:900; text-shadow:0 2px 10px rgba(0,0,0,0.5);">¡Iluminá tu espacio!</h2>
        </div>
        <div style="position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.3);"></div>
    </div>

</main>
    </div>

    <footer class="nucleo-footer" style="background: #000; color: #fff; padding:20px; text-align:center;">
        <p style="margin:0; color: #555;">© 2025 Electrónica Núcleo - Multimarcas 360</p>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyCD4lBf6BA76Oz-SDr4f8eaPA-q7v5AecY",
        authDomain: "consultoravidal91.firebaseapp.com",
        projectId: "consultoravidal91",
        storageBucket: "consultoravidal91.firebasestorage.app",
        messagingSenderId: "840042202477",
        appId: "1:840042202477:web:aae77961b4bca465dc4664",
        measurementId: "G-HP3L0WZ60V"
      };
      let db, auth;
      if (typeof firebase !== 'undefined') {
          if (!firebase.apps.length) {
             firebase.initializeApp(firebaseConfig);
             db = firebase.firestore();
             auth = firebase.auth();
          } else {
             db = firebase.firestore();
             auth = firebase.auth();
          }
      }
      const ADMIN_EMAIL = 'ortolanimichael@gmail.com';
      
      // =========================================================
      // === SCRIPT PARA EL FUNCIONAMIENTO DEL TOOLBAR (VISTAS) ===
      // =========================================================

      document.addEventListener('DOMContentLoaded', () => {
        const catalogo = document.getElementById('catalogo-container');
        const viewButtons = document.querySelectorAll('.btn-view-nucleo');
        const searchForm = document.getElementById('nucleo-cat-search-form');
        const sortSelect = document.getElementById('nucleo-cat-sort');

        // Función para cambiar la vista (Grid, List, Feed)
        function changeView(view) {
            // Eliminar todas las clases de vista
            catalogo.classList.remove('view-grid', 'view-list', 'view-feed');
            
            // Agregar la clase de vista seleccionada
            catalogo.classList.add(`view-${view}`);

            // Actualizar botones de vista
            viewButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-view') === view) {
                    btn.classList.add('active');
                }
            });

            // Guardar la vista preferida (para persistencia)
            localStorage.setItem('nucleo-product-view', view);
        }

        // 1. Manejador de botones de vista
        viewButtons.forEach(button => {
            button.addEventListener('click', () => {
                const newView = button.getAttribute('data-view');
                changeView(newView);
            });
        });

        // 2. Inicializar vista desde localStorage (o default 'grid')
        const savedView = localStorage.getItem('nucleo-product-view') || 'grid';
        changeView(savedView);

        // 3. Manejador de Búsqueda y Ordenamiento (Solo para simular la funcionalidad)
        // 3. Manejador de Búsqueda REAL (Corregido)
        const performNucleoSearch = () => {
            const input = document.getElementById('nucleo-cat-search-input');
            const term = input.value.toLowerCase().trim();
            const cards = document.querySelectorAll('.tarjeta-producto');
            const resultsHeader = document.getElementById('nucleo-results-count');
            let visibleCount = 0;

            cards.forEach(card => {
                // Buscamos en el título y en la categoría del producto
                const title = card.querySelector('.producto-nombre')?.textContent.toLowerCase() || '';
                const category = card.querySelector('.producto-categoria')?.textContent.toLowerCase() || '';
                
                if (title.includes(term) || category.includes(term)) {
                    card.style.display = ''; // Mostrar (respetando el CSS grid/flex)
                    visibleCount++;
                } else {
                    card.style.display = 'none'; // Ocultar
                }
            });

            // Actualizar el texto del contador de resultados
            if (resultsHeader) {
                if (term === '') {
                    resultsHeader.textContent = "Todos los productos";
                } else {
                    resultsHeader.textContent = `Encontrados: ${visibleCount}`;
                }
            }
        };

        // Evento al presionar Enter o clic en buscar
        searchForm.addEventListener('submit', (e) => {
            e.preventDefault();
            performNucleoSearch();
        });

        // Evento opcional: Búsqueda en vivo mientras escribes
        const searchInput = document.getElementById('nucleo-cat-search-input');
        if(searchInput) {
            searchInput.addEventListener('input', performNucleoSearch);
        }
        
        sortSelect.addEventListener('change', () => {
             alert('Ordenamiento activado: Si tuviera el código de app.js implementaría la lógica de ordenamiento.');
        });
        
      });
      // FIN SCRIPT TOOLBAR
    </script>

    <script src="auth.js"></script>
    <script src="app.js"></script>
    
</body>
</html>